{% extends "layout.html" %}

{% block main %}
<div class="container-fluid py-4 px-md-5">
    <div class="card shadow-sm border-0 rounded-4">
        <div class="card-body p-0"> <div id="calendar"></div>
        </div>
    </div>
</div>

<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      height: '80vh', // Sets height based on the screen size
      aspectRatio: 2, // Makes cells wider than they are tall
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,listWeek'
      },
      events: '/api/assignments', // Flask endpoint
      
      // Styling
      eventColor: '#0d6efd',
      eventTextColor: '#ffffff',
      displayEventTime: false, // Hides "12a" since these are all-day events
      
      eventClick: function(info) {
        alert('Assignment: ' + info.event.title);
      }
    });
    calendar.render();
  });
</script>

<style>
    /* Custom CSS to polish the look */
    #calendar {
        padding: 20px;
        background: white;
        border-radius: 15px;
    }
    /* Make the calendar header look modern */
    .fc-toolbar-title {
        font-size: 1.5rem !important;
        font-weight: 700;
        color: #0d6efd;
    }
    .fc-button-primary {
        background-color: #0d6efd !important;
        border: none !important;
        text-transform: capitalize;
    }
</style>
{% endblock %}
